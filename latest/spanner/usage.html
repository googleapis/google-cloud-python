
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Spanner &#8212; google-cloud b176b888d5 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Instance Admin" href="instance-usage.html" />
    <link rel="prev" title="Changelog" href="../runtimeconfig/changelog.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="spanner">
<h1>Spanner<a class="headerlink" href="#spanner" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://cloud.google.com/spanner/">Cloud Spanner</a> is the world’s first fully managed relational database service
to offer both strong consistency and horizontal scalability for
mission-critical online transaction processing (OLTP) applications. With Cloud
Spanner you enjoy all the traditional benefits of a relational database; but
unlike any other relational database service, Cloud Spanner scales horizontally
to hundreds or thousands of servers to handle the biggest transactional
workloads.</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">#</a></h2>
<p>Install the <code class="docutils literal notranslate"><span class="pre">google-cloud-spanner</span></code> library using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install google-cloud-spanner
</pre></div>
</div>
</div>
<div class="section" id="spanner-client">
<h2>Spanner Client<a class="headerlink" href="#spanner-client" title="Permalink to this headline">#</a></h2>
<div class="section" id="instantiating-a-client">
<span id="id1"></span><h3>Instantiating a Client<a class="headerlink" href="#instantiating-a-client" title="Permalink to this headline">#</a></h3>
<p>To use the API, the <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>
class defines a high-level interface which handles authorization
and creating other objects:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="long-lived-defaults">
<h3>Long-lived Defaults<a class="headerlink" href="#long-lived-defaults" title="Permalink to this headline">#</a></h3>
<p>When creating a <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>, the
<code class="docutils literal notranslate"><span class="pre">user_agent</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout_seconds</span></code> arguments have sensible
defaults
(<code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_USER_AGENT</span></code> and
<code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_TIMEOUT_SECONDS</span></code>).
However, you may over-ride them and these will be used throughout all API
requests made with the <code class="docutils literal notranslate"><span class="pre">client</span></code> you create.</p>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h3>
<ul>
<li><p class="first">For an overview of authentication in <code class="docutils literal notranslate"><span class="pre">google.cloud-python</span></code>,
see <a class="reference internal" href="../core/auth.html"><span class="doc">Authentication</span></a>.</p>
</li>
<li><p class="first">In addition to any authentication configuration, you can also set the
<span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">GCLOUD_PROJECT</span></code> environment variable for the Google Cloud Console
project you’d like to interact with. If your code is running in Google App
Engine or Google Compute Engine the project will be detected automatically.
(Setting this environment variable is not required, you may instead pass the
<code class="docutils literal notranslate"><span class="pre">project</span></code> explicitly when constructing a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>).</p>
</li>
<li><p class="first">After configuring your environment, create a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
<p>or pass in <code class="docutils literal notranslate"><span class="pre">credentials</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code> explicitly</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;my-project&#39;</span><span class="p">,</span> <span class="n">credentials</span><span class="o">=</span><span class="n">creds</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Be sure to use the <strong>Project ID</strong>, not the <strong>Project Number</strong>.</p>
</div>
</div>
<div class="section" id="warnings-about-multiprocessing">
<h3>Warnings about Multiprocessing<a class="headerlink" href="#warnings-about-multiprocessing" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li>When using multiprocessing, the application may hang if a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a> instance is created before
<code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.Pool</span></code> or <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.Process</span></code></a> invokes <a class="reference external" href="https://docs.python.org/3/library/os.html#os.fork" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.fork()</span></code></a>.
The issue is under investigation, but may be only happening on Macintosh and not Linux.
See <a class="reference external" href="https://github.com/grpc/grpc/issues/12455#issuecomment-348578950">GRPC/GRPC#12455</a> for more information.</li>
</ul>
</div>
<div class="section" id="next-step">
<h3>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">#</a></h3>
<p>After a <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>, the next
highest-level object is an <a class="reference internal" href="instance-api.html#google.cloud.spanner_v1.instance.Instance" title="google.cloud.spanner_v1.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code></a>.
You’ll need one before you can interact with databases.</p>
<p>Next, learn about the <a class="reference internal" href="instance-usage.html"><span class="doc">Instance Admin</span></a>.</p>
</div>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">#</a></h2>
<p>For a list of all <code class="docutils literal notranslate"><span class="pre">google-cloud-spanner</span></code> releases:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">1.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">1.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">1.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">1.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">1.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">0.30.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#">0.29.0</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-cloud</a></h1>



<p class="blurb">Google Cloud Client Libraries for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-cloud-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../releases.html"><code class="docutils literal notranslate"><span class="pre">google-cloud</span></code> Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asset/index.html">Python Client for Cloud Asset API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automl/index.html">Python Client for Cloud AutoML API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery/usage.html">BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery_datatransfer/index.html">Python Client for BigQuery Data Transfer API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigtable/usage.html">Bigtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container/index.html">Python Client for Google Container Engine API (Beta)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataproc/index.html">Python Client for Google Cloud Dataproc API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastore/usage.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dlp/index.html">Python Client for Cloud Data Loss Prevention (DLP) API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/usage.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firestore/index.html">Firestore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iot/index.html">Python Client for Cloud IoT API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kms/index.html">Python Client for Google Cloud Key Management Service (KMS) API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/usage.html">Natural Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pubsub/index.html">Pub/Sub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oslogin/index.html">Python Client for Google Cloud OS Login API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/api.html">Resource Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/api.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/api.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtimeconfig/usage.html">Runtimeconfig</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Spanner</a><ul>
<li class="toctree-l2"><a class="reference internal" href="instance-usage.html">Instance Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="database-usage.html">Database Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="database-usage.html#non-admin-database-usage">Non-Admin Database Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch-usage.html">Batching Modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="snapshot-usage.html">Read-only Transactions via Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction-usage.html">Read-write Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-session-pool-topics.html">Advanced Session Pool Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-reference.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spanner-client">Spanner Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changelog">Changelog</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../error-reporting/usage.html">Stackdriver Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/index.html">Python Client for Stackdriver Monitoring API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/usage.html">Stackdriver Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../redis/index.html">Python Client for Google Cloud Memorystore for Redis API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/client.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/index.html">Python Client for Cloud Tasks API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../texttospeech/index.html">Python Client for Cloud Text-to-Speech API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translate/usage.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision/index.html">Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videointelligence/index.html">Video Intelligence</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../runtimeconfig/changelog.html" title="previous chapter">Changelog</a></li>
      <li>Next: <a href="instance-usage.html" title="next chapter">Instance Admin</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2017, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/spanner/usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-cloud-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>