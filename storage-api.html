
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cloud Storage &mdash; gcloud 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="gcloud 0.1 documentation" href="index.html" />
    <link rel="next" title="Getting started with Cloud Storage" href="storage-getting-started.html" />
    <link rel="prev" title="Getting started with gcloud" href="getting-started.html" /> 
  </head>
  <body role="document" class="two-column docs"><a href="https://github.com/GoogleCloudPlatform/gcloud-python"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 999;" src="_static/forkme.png" alt="Fork me on GitHub"></a>
    <div id="sandbar">
      <header id="gc-googlebar">
      <a id="gc-logo" href="index.html">
        <img src="_static/cloudplatform-horizontal.png" alt="Google">
        </a>
        <form class="gc-search" action="search.html" method="GET">
          <div class="searchbox" style="width: 429px;">
            <span class="button button-blue mini">Google Cloud Python API</span>
            <input type="hidden" name="check_keywords" value="yes">
            <input type="hidden" name="area" value="default">
            <input type="text" name="q" class="q" id="q" value=""
              placeholder="Search" autocomplete="off" style="width: 263px;">
          </div>
          <button class="button button-blue" style="top: 0px; left: 444px;">
          <img src="_static/search.png" alt="Search">
        </button>

        <input type="hidden" name="p" id="search_project" value="/compute">

      </form>
      </header>
    </div>
    
<div id="gc-wrapper">
  <div id="gc-appbar">
    <h1><a href="index.html">gcloud 0.1 documentation</a></h1>
  </div>
    <div id="gc-main" class="main">
      <div id="gc-sidebar" class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<nav class="gc-toc">
  <ul><li><a href="index.html">gCloud Documentation</a></li></ul>
  <ul>
<li><a class="reference internal" href="#">Cloud Storage</a><ul>
<li><a class="reference internal" href="#module-gcloud.storage.__init__"><code class="docutils literal"><span class="pre">gcloud.storage</span></code></a></li>
<li><a class="reference internal" href="#module-gcloud.storage.connection">Connections</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.bucket">Buckets</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.key">Keys</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.acl">Access Control</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.iterator">Iterators</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

  </nav>

            <h3>All API Docs</h3>
            <nav class="gc-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common-api.html">Cloud Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-api.html">Cloud Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-getting-started.html">Getting started with Cloud Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-quickstart.html">Cloud Datastore in 10 seconds</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started with gcloud</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Cloud Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage-getting-started.html">Getting started with Cloud Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage-quickstart.html">Cloud Storage in 10 seconds</a></li>
</ul>

            </nav>
            
            
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main" id="gc-content">
            
  <div class="section" id="cloud-storage">
<h1>Cloud Storage<a class="headerlink" href="#cloud-storage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-gcloud.storage.__init__">
<span id="gcloud-storage"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">gcloud.storage</span></code><a class="headerlink" href="#module-gcloud.storage.__init__" title="Permalink to this headline">¶</a></h2>
<p>Shortcut methods for getting set up with Google Cloud Storage.</p>
<p>You&#8217;ll typically use these to get started with the API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gcloud.storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">gcloud</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket-id-here&#39;</span><span class="p">,</span>
<span class="go">                                       &#39;project-id&#39;,</span>
<span class="go">                                       &#39;long-email@googleapis.com&#39;,</span>
<span class="go">                                       &#39;/path/to/private.key&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Then do other things...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/remote/path/to/file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">key</span><span class="o">.</span><span class="n">get_contents_as_string</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">set_contents_from_string</span><span class="p">(</span><span class="s">&#39;New contents!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;/remote/path/storage.txt&#39;</span><span class="p">,</span> <span class="s">&#39;/local/path.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The main concepts with this API are:</p>
<ul class="simple">
<li><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a>
which represents a connection between your machine
and the Cloud Storage API.</li>
<li><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>
which represents a particular bucket
(akin to a mounted disk on a computer).</li>
<li><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>
which represents a pointer
to a particular entity in Cloud Storage
(akin to a file path on a remote machine).</li>
</ul>
<dl class="function">
<dt id="gcloud.storage.__init__.get_bucket">
<code class="descclassname">gcloud.storage.__init__.</code><code class="descname">get_bucket</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>project</em>, <em>client_email</em>, <em>private_key_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/__init__.html#get_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.__init__.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to establish a connection to a particular bucket.</p>
<p>You&#8217;ll generally use this as the first call to working with the API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">bucket_name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Now you can do things with the bucket.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;/path/to/file.txt&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; The id of the bucket you want to use.
This is akin to a disk name on a file system.</li>
<li><strong>project</strong> (<em>string</em>) &#8211; The name of the project to connect to.</li>
<li><strong>client_email</strong> (<em>string</em>) &#8211; The e-mail attached to the service account.</li>
<li><strong>private_key_path</strong> (<em>string</em>) &#8211; The path to a private key file (this file was
given to you when you created the service
account).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A bucket with a connection using the provided credentials.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gcloud.storage.__init__.get_connection">
<code class="descclassname">gcloud.storage.__init__.</code><code class="descname">get_connection</code><span class="sig-paren">(</span><em>project</em>, <em>client_email</em>, <em>private_key_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/__init__.html#get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.__init__.get_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to establish a connection to Cloud Storage.</p>
<p>Use this if you are going to access several buckets
with the same set of credentials:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>project</strong> (<em>string</em>) &#8211; The name of the project to connect to.</li>
<li><strong>client_email</strong> (<em>string</em>) &#8211; The e-mail attached to the service account.</li>
<li><strong>private_key_path</strong> (<em>string</em>) &#8211; The path to a private key file (this file was
given to you when you created the service
account).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A connection defined with the proper credentials.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.connection">
<span id="connections"></span><h2>Connections<a class="headerlink" href="#module-gcloud.storage.connection" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage connections.</p>
<dl class="class">
<dt id="gcloud.storage.connection.Connection">
<em class="property">class </em><code class="descclassname">gcloud.storage.connection.</code><code class="descname">Connection</code><span class="sig-paren">(</span><em>project</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="common-api.html#gcloud.connection.Connection" title="gcloud.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.connection.Connection</span></code></a></p>
<p>A connection to Google Cloud Storage via the JSON REST API.</p>
<p>This class should understand only the basic types (and protobufs)
in method arguments, however should be capable of returning advanced types.</p>
<p>See <a class="reference internal" href="common-api.html#gcloud.connection.Connection" title="gcloud.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.connection.Connection</span></code></a> for a full list of parameters.
<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> differs only in needing a project name
(which you specify when creating a project in the Cloud Console).</p>
<p>A typical use of this is to operate on
<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a> objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket-name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then delete this bucket:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># or</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to access an existing bucket:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket-name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> is actually iterable
and will return the <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a> objects
inside the project:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket-name&gt;</span>
</pre></div>
</div>
<p>In that same way, you can check for whether a bucket exists
inside the project using Python&#8217;s <code class="docutils literal"><span class="pre">in</span></code> operator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&#39;my-bucket-name&#39;</span> <span class="ow">in</span> <span class="n">connection</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project</strong> (<em>string</em>) &#8211; The project name to connect to.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_ACCESS_ENDPOINT">
<code class="descname">API_ACCESS_ENDPOINT</code><em class="property"> = 'https://storage.googleapis.com'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_ACCESS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_URL_TEMPLATE">
<code class="descname">API_URL_TEMPLATE</code><em class="property"> = '{api_base_url}/storage/{api_version}{path}'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_URL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for the URL of a particular API call.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_VERSION">
<code class="descname">API_VERSION</code><em class="property"> = 'v1beta2'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the API, used in building the API call&#8217;s URL.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.api_request">
<code class="descname">api_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>query_params=None</em>, <em>data=None</em>, <em>content_type=None</em>, <em>api_base_url=None</em>, <em>api_version=None</em>, <em>expect_json=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.api_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.api_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a request over the HTTP transport to the Cloud Storage API.</p>
<p>You shouldn&#8217;t need to use this method,
but if you plan to interact with the API using these primitives,
this is the correct one to use...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP method name (ie, <code class="docutils literal"><span class="pre">GET</span></code>, <code class="docutils literal"><span class="pre">POST</span></code>, etc).
Required.</li>
<li><strong>path</strong> (<em>string</em>) &#8211; The path to the resource (ie, <code class="docutils literal"><span class="pre">'/b/bucket-name'</span></code>).
Required.</li>
<li><strong>query_params</strong> (<em>dict</em>) &#8211; A dictionary of keys and values to insert into
the query string of the URL.
Default is empty dict.</li>
<li><strong>data</strong> (<em>string</em>) &#8211; The data to send as the body of the request. Default is
the empty string.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The proper MIME type of the data provided. Default
is None.</li>
<li><strong>api_base_url</strong> (<em>string</em>) &#8211; The base URL for the API endpoint.
Typically you won&#8217;t have to provide this.
Default is the standard API base URL.</li>
<li><strong>api_version</strong> (<em>string</em>) &#8211; The version of the API to call.
Typically you shouldn&#8217;t provide this and instead
use the default for the library.
Default is the latest API version supported by
gcloud-python.</li>
<li><strong>expect_json</strong> (<em>bool</em>) &#8211; If True, this method will try to parse the response
as JSON and raise an exception if that cannot
be done.  Default is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception if the response code is not 200 OK.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.build_api_url">
<code class="descname">build_api_url</code><span class="sig-paren">(</span><em>path</em>, <em>query_params=None</em>, <em>api_base_url=None</em>, <em>api_version=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.build_api_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.build_api_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an API url given a few components, some optional.</p>
<p>Typically, you shouldn&#8217;t need to use this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) &#8211; The path to the resource (ie, <code class="docutils literal"><span class="pre">'/b/bucket-name'</span></code>).</li>
<li><strong>query_params</strong> (<em>dict</em>) &#8211; A dictionary of keys and values to insert into
the query string of the URL.</li>
<li><strong>api_base_url</strong> (<em>string</em>) &#8211; The base URL for the API endpoint.
Typically you won&#8217;t have to provide this.</li>
<li><strong>api_version</strong> (<em>string</em>) &#8211; The version of the API to call.
Typically you shouldn&#8217;t provide this and instead
use the default for the library.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The URL assembled from the pieces provided.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.create_bucket">
<code class="descname">create_bucket</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.create_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.create_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new bucket.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket name (or bucket object) to create.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The newly created bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.delete_bucket">
<code class="descname">delete_bucket</code><span class="sig-paren">(</span><em>bucket</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.delete_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.delete_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a bucket.</p>
<p>You can use this method to delete a bucket by name,
or to delete a bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also delete pass in the bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;other-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If the bucket doesn&#8217;t exist,
this will raise a <a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="s">&#39;That bucket does not exist!&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket name (or bucket object) to create.</li>
<li><strong>full</strong> &#8211; If True, empties the bucket&#8217;s objects then deletes it.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">bool</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the bucket was deleted.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.generate_signed_url">
<code class="descname">generate_signed_url</code><span class="sig-paren">(</span><em>resource</em>, <em>expiration</em>, <em>method='GET'</em>, <em>content_md5=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.generate_signed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.generate_signed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate signed URL to provide query-string auth&#8217;n to a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource</strong> (<em>string</em>) &#8211; A pointer to a specific resource
(typically, <code class="docutils literal"><span class="pre">/bucket-name/path/to/key.txt</span></code>).</li>
<li><strong>expiration</strong> (<em>int, long, datetime.datetime, datetime.timedelta</em>) &#8211; When the signed URL should expire.</li>
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP verb that will be used when requesting the URL.</li>
<li><strong>content_md5</strong> (<em>string</em>) &#8211; The MD5 hash of the object referenced by
<code class="docutils literal"><span class="pre">resource</span></code>.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The content type of the object referenced by
<code class="docutils literal"><span class="pre">resource</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A signed URL you can use to access the resource
until expiration.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.get_all_buckets">
<code class="descname">get_all_buckets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.get_all_buckets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.get_all_buckets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all buckets in the project.</p>
<p>This will not populate the list of keys available
in each bucket.</p>
<p>You can also iterate over the connection object,
so these two operations are identical:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_all_buckets</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># ... is the same as ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a> objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">All buckets belonging to this project.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.get_bucket">
<code class="descname">get_bucket</code><span class="sig-paren">(</span><em>bucket_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.get_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a bucket by name.</p>
<p>If the bucket isn&#8217;t found,
this will raise a <a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a>.
If you would rather get a bucket by name,
and return <code class="docutils literal"><span class="pre">None</span></code> if the bucket isn&#8217;t found
(like <code class="docutils literal"><span class="pre">{}.get('...')</span></code>)
then use <a class="reference internal" href="#gcloud.storage.connection.Connection.lookup" title="gcloud.storage.connection.Connection.lookup"><code class="xref py py-func docutils literal"><span class="pre">Connection.lookup()</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="s">&#39;Sorry, that bucket does not exist!&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>string</em>) &#8211; The name of the bucket to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The bucket matching the name provided.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>bucket_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a bucket by name, returning None if not found.</p>
<p>You can use this if you would rather
checking for a None value
than catching an exception:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;doesnt-exist&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>string</em>) &#8211; The name of the bucket to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The bucket matching the name provided or None if not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.make_request">
<code class="descname">make_request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>data=None</em>, <em>content_type=None</em>, <em>headers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.make_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.make_request" title="Permalink to this definition">¶</a></dt>
<dd><p>A low level method to send a request to the API.</p>
<p>Typically, you shouldn&#8217;t need to use this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP method to use in the request.</li>
<li><strong>url</strong> (<em>string</em>) &#8211; The URL to send the request to.</li>
<li><strong>data</strong> (<em>string</em>) &#8211; The data to send as the body of the request.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The proper MIME type of the data provided.</li>
<li><strong>headers</strong> (<em>dict</em>) &#8211; A dictionary of HTTP headers to send with the request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <code class="docutils literal"><span class="pre">response</span></code> (a dictionary of sorts)
and <code class="docutils literal"><span class="pre">content</span></code> (a string).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The HTTP response object and the content of the response.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.new_bucket">
<code class="descname">new_bucket</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.new_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.new_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for creating a new (unsaved) bucket object.</p>
<p>This method is really useful when you&#8217;re not sure whether
you have an actual <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a> object
or just a name of a bucket.
It always returns the object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">new_bucket</span><span class="p">(</span><span class="s">&#39;bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: bucket&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">new_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; A name of a bucket or an existing Bucket object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.bucket">
<span id="buckets"></span><h2>Buckets<a class="headerlink" href="#module-gcloud.storage.bucket" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage buckets.</p>
<dl class="class">
<dt id="gcloud.storage.bucket.Bucket">
<em class="property">class </em><code class="descclassname">gcloud.storage.bucket.</code><code class="descname">Bucket</code><span class="sig-paren">(</span><em>connection=None</em>, <em>name=None</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class representing a Bucket on Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a>) &#8211; The connection to use when sending requests.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the bucket.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.clear_acl">
<code class="descname">clear_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.clear_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.clear_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all ACL rules from the bucket.</p>
<p>Note that this won&#8217;t actually remove <em>ALL</em> the rules,
but it will remove all the non-default rules.
In short,
you&#8217;ll still have access
to a bucket that you created
even after you clear ACL rules
with this method.</p>
<p>For example,
imagine that you granted access to this bucket
to a bunch of coworkers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span>
<span class="go">                                        private_key_path)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_acl</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;coworker1@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;coworker2@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>Now they work in another part of the company
and you want to &#8216;start fresh&#8217; on who has access:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">clear_acl</span><span class="p">()</span>
</pre></div>
</div>
<p>At this point all the custom rules you created have been removed.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.clear_default_object_acl">
<code class="descname">clear_default_object_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.clear_default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.clear_default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the Default Object ACL from this bucket.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.configure_website">
<code class="descname">configure_website</code><span class="sig-paren">(</span><em>main_page_suffix=None</em>, <em>not_found_page=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.configure_website"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.configure_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure website-related metadata.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This (apparently) only works
if your bucket name is a domain name
(and to do that, you need to get approved somehow...).</p>
<p class="last">Check out the official documentation here:
<a class="reference external" href="https://developers.google.com/storage/docs/website-configuration">https://developers.google.com/storage/docs/website-configuration</a></p>
</div>
<p>If you want this bucket to host a website,
just provide the name of an index page
and a page to use when a key isn&#8217;t found:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span>
<span class="go">                                        private_key_path)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">configure_website</span><span class="p">(</span><span class="s">&#39;index.html&#39;</span><span class="p">,</span> <span class="s">&#39;404.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You probably should also make the whole bucket public:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">make_public</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This says:
&#8220;Make the bucket public,
and all the stuff already in the bucket,
and anything else I add to the bucket.
Just make it all public.&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>main_page_suffix</strong> (<em>string</em>) &#8211; The page to use as the main page
of a directory.
Typically something like index.html.</li>
<li><strong>not_found_page</strong> (<em>string</em>) &#8211; The file to use when a page isn&#8217;t found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.copy_key">
<code class="descname">copy_key</code><span class="sig-paren">(</span><em>key</em>, <em>destination_bucket</em>, <em>new_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.copy_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.copy_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the given key to the given bucket, optionally with a new name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; The key to be copied.</li>
<li><strong>destination_bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket into which the key should be
copied.</li>
<li><strong>new_name</strong> (<em>string</em>) &#8211; (optional) the new name for the copied file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The new Key.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete this bucket.</p>
<p>The bucket <strong>must</strong> be empty in order to delete it.
If the bucket doesn&#8217;t exist,
this will raise a <a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a>.
If the bucket is not empty,
this will raise an Exception.</p>
<p>If you want to delete a non-empty bucket you can pass
in a force parameter set to true.
This will iterate through the bucket&#8217;s keys and delete the
related objects, before deleting the bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>full</strong> &#8211; If True, empties the bucket&#8217;s objects then deletes it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete_key">
<code class="descname">delete_key</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a key from the current bucket.</p>
<p>If the key isn&#8217;t found,
this will throw a <a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete_key</span><span class="p">(</span><span class="s">&#39;my-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">bucket</span><span class="o">.</span><span class="n">delete_key</span><span class="p">(</span><span class="s">&#39;doesnt-exist&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">pass</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; A key name or Key object to delete.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The key that was just deleted.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete_keys">
<code class="descname">delete_keys</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a list of keys from the current bucket.</p>
<p>Uses <a class="reference internal" href="#gcloud.storage.bucket.Bucket.delete_key" title="gcloud.storage.bucket.Bucket.delete_key"><code class="xref py py-func docutils literal"><span class="pre">Bucket.delete_key()</span></code></a> to delete each individual key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; A list of key names or Key objects to delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.disable_website">
<code class="descname">disable_website</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.disable_website"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.disable_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable the website configuration for this bucket.</p>
<p>This is really just a shortcut for
setting the website-related attributes to <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="gcloud.storage.bucket.Bucket.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>bucket_dict</em>, <em>connection=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new bucket from a dictionary of data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_dict</strong> (<em>dict</em>) &#8211; The dictionary of data to construct a bucket from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A bucket constructed from the data provided.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_acl">
<code class="descname">get_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ACL metadata as a <a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An ACL object for the current bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_all_keys">
<code class="descname">get_all_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_all_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_all_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>List all the keys in this bucket.</p>
<p>This will <strong>not</strong> retrieve all the data for all the keys,
it will only retrieve metadata about the keys.</p>
<p>This is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">bucket</span><span class="p">]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of all the Key objects in this bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_default_object_acl">
<code class="descname">get_default_object_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current Default Object ACL rules.</p>
<p>If the appropriate metadata isn&#8217;t available locally,
this method will reload it from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.DefaultObjectACL" title="gcloud.storage.acl.DefaultObjectACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.DefaultObjectACL</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A DefaultObjectACL object for this bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_key">
<code class="descname">get_key</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a key object by name.</p>
<p>This will return None if the key doesn&#8217;t exist:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/path/to/key.txt&#39;</span><span class="p">)</span>
<span class="go">&lt;Key: my-bucket, /path/to/key.txt&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/does-not-exist.txt&#39;</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; The name of the key to retrieve.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a> or None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The key object if it exists, otherwise None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><em>field=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all metadata or a specific field.</p>
<p>If you request a field that isn&#8217;t available,
and that field can be retrieved by refreshing data
from Cloud Storage,
this method will reload the data using
<a class="reference internal" href="#gcloud.storage.bucket.Bucket.reload_metadata" title="gcloud.storage.bucket.Bucket.reload_metadata"><code class="xref py py-func docutils literal"><span class="pre">Bucket.reload_metadata()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<em>string</em>) &#8211; (optional) A particular field to retrieve from metadata.</li>
<li><strong>default</strong> (<em>anything</em>) &#8211; The value to return if the field provided wasn&#8217;t found.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict or anything</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">All metadata or the value of the specific field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.has_metadata">
<code class="descname">has_metadata</code><span class="sig-paren">(</span><em>field=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.has_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.has_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if metadata is available locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>field</strong> (<em>string</em>) &#8211; (optional) the particular field to check for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Whether metadata is available locally.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.make_public">
<code class="descname">make_public</code><span class="sig-paren">(</span><em>recursive=False</em>, <em>future=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.make_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.make_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a bucket public.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>recursive</strong> (<em>bool</em>) &#8211; If True, this will make all keys inside the bucket
public as well.</li>
<li><strong>future</strong> (<em>bool</em>) &#8211; If True, this will make all objects created in the
future public as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.new_key">
<code class="descname">new_key</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.new_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.new_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Given path name (or Key), return a <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">storage.key.Key</span></code></a> object.</p>
<p>This is really useful when you&#8217;re not sure
if you have a Key object or a string path name.
Given either of those types,
this returns the corresponding Key object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; A path name or actual key object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Key object with the path provided.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.patch_metadata">
<code class="descname">patch_metadata</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.patch_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.patch_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update particular fields of this bucket&#8217;s metadata.</p>
<p>This method will only update the fields provided
and will not touch the other fields.</p>
<p>It will also reload the metadata locally
based on the servers response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> (<em>dict</em>) &#8211; The dictionary of values to update.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.path">
<code class="descname">path</code><a class="headerlink" href="#gcloud.storage.bucket.Bucket.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL path to this bucket.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.reload_acl">
<code class="descname">reload_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.reload_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.reload_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the ACL data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.reload_default_object_acl">
<code class="descname">reload_default_object_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.reload_default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.reload_default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the Default Object ACL rules for this bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.reload_metadata">
<code class="descname">reload_metadata</code><span class="sig-paren">(</span><em>full=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.reload_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.reload_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload metadata from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>full</strong> (<em>bool</em>) &#8211; If True, loads all data (include ACL data).</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The bucket you just reloaded data for.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.save_acl">
<code class="descname">save_acl</code><span class="sig-paren">(</span><em>acl=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.save_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.save_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the ACL data for this bucket.</p>
<p>If called without arguments,
this will save the ACL currently stored on the Bucket object.
For example,
this will save
the ACL stored in <code class="docutils literal"><span class="pre">some_other_acl</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">acl</span> <span class="o">=</span> <span class="n">some_other_acl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">save_acl</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also provide a specific ACL to save
instead of the one currently set
on the Bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">save_acl</span><span class="p">(</span><span class="n">acl</span><span class="o">=</span><span class="n">my_other_acl</span><span class="p">)</span>
</pre></div>
</div>
<p>You can use this to set access controls
to be consistent from one bucket to another:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket1_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket2_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span><span class="o">.</span><span class="n">save_acl</span><span class="p">(</span><span class="n">bucket1</span><span class="o">.</span><span class="n">get_acl</span><span class="p">())</span>
</pre></div>
</div>
<p>If you want to <strong>clear</strong> the ACL for the bucket,
you must save an empty list (<code class="docutils literal"><span class="pre">[]</span></code>)
rather than using <code class="docutils literal"><span class="pre">None</span></code>
(which is interpreted as wanting to save the current ACL):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">save_acl</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>  <span class="c"># Saves the current ACL (self.acl).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">save_acl</span><span class="p">([])</span>  <span class="c"># Clears the current ACL.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></code></a>) &#8211; The ACL object to save.
If left blank, this will save the ACL
set locally on the bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.save_default_object_acl">
<code class="descname">save_default_object_acl</code><span class="sig-paren">(</span><em>acl=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.save_default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.save_default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the Default Object ACL rules for this bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.DefaultObjectACL" title="gcloud.storage.acl.DefaultObjectACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.DefaultObjectACL</span></code></a>) &#8211; The DefaultObjectACL object to save.
If not provided, this will look at
the <code class="docutils literal"><span class="pre">default_object_acl</span></code> property
and save that.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.upload_file">
<code class="descname">upload_file</code><span class="sig-paren">(</span><em>filename</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.upload_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.upload_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to upload a file into this bucket.</p>
<p>Use this method to quickly put a local file in Cloud Storage.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">,</span> <span class="s">&#39;remote-text-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, remote-text-file.txt&gt;]</span>
</pre></div>
</div>
<p>If you don&#8217;t provide a key value,
we will try to upload the file using the local filename
as the key
(<strong>not</strong> the complete path):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) &#8211; Local path to the file you want to upload.</li>
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; <p>The key (either an object or a remote path)
of where to put the file.</p>
<p>If this is blank,
we will try to upload the file
to the root of the bucket
with the same name as on your local file system.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.upload_file_object">
<code class="descname">upload_file_object</code><span class="sig-paren">(</span><em>file_obj</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.upload_file_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.upload_file_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to upload a file object into this bucket.</p>
<p>Use this method to quickly put a local file in Cloud Storage.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">),</span> <span class="s">&#39;remote-text-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, remote-text-file.txt&gt;]</span>
</pre></div>
</div>
<p>If you don&#8217;t provide a key value,
we will try to upload the file using the local filename
as the key
(<strong>not</strong> the complete path):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle open for reading.</li>
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; <p>The key (either an object or a remote path)
of where to put the file.</p>
<p>If this is blank,
we will try to upload the file
to the root of the bucket
with the same name as on your local file system.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.bucket.BucketIterator">
<em class="property">class </em><code class="descclassname">gcloud.storage.bucket.</code><code class="descname">BucketIterator</code><span class="sig-paren">(</span><em>connection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#BucketIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.BucketIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.iterator.Iterator" title="gcloud.storage.iterator.Iterator"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.iterator.Iterator</span></code></a></p>
<p>An iterator listing all buckets.</p>
<p>You shouldn&#8217;t have to use this directly,
but instead should use the helper methods
on <a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a> objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a>) &#8211; The connection to use for querying the list of buckets.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.bucket.BucketIterator.get_items_from_response">
<code class="descname">get_items_from_response</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/bucket.html#BucketIterator.get_items_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.BucketIterator.get_items_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method which yields <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">Bucket</span></code></a> items from a response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<em>dict</em>) &#8211; The JSON API response for a page of buckets.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.key">
<span id="keys"></span><h2>Keys<a class="headerlink" href="#module-gcloud.storage.key" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage keys.</p>
<dl class="class">
<dt id="gcloud.storage.key.Key">
<em class="property">class </em><code class="descclassname">gcloud.storage.key.</code><code class="descname">Key</code><span class="sig-paren">(</span><em>bucket=None</em>, <em>name=None</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A wrapper around Cloud Storage&#8217;s concept of an <code class="docutils literal"><span class="pre">Object</span></code>.</p>
<p>Key constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket to which this key belongs.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the key.
This corresponds to the unique path of the object
in the bucket.</li>
<li><strong>metadata</strong> (<em>dict</em>) &#8211; All the other data provided by Cloud Storage.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.key.Key.CHUNK_SIZE">
<code class="descname">CHUNK_SIZE</code><em class="property"> = 1048576</em><a class="headerlink" href="#gcloud.storage.key.Key.CHUNK_SIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of a chunk of data whenever iterating (1 MB).</p>
<p>This must be a multiple of 256 KB per the API specification.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.clear_acl">
<code class="descname">clear_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.clear_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.clear_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all ACL rules from the key.</p>
<p>Note that this won&#8217;t actually remove <em>ALL</em> the rules,
but it will remove all the non-default rules.
In short,
you&#8217;ll still have access
to a key that you created
even after you clear ACL rules
with this method.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.connection">
<code class="descname">connection</code><a class="headerlink" href="#gcloud.storage.key.Key.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter property for the connection to use with this Key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a> or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The connection to use, or None if no connection is set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a key from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The key that was just deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not this key exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the key exists in Cloud Storage.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gcloud.storage.key.Key.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>key_dict</em>, <em>bucket=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a> from data returned by the JSON API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key_dict</strong> (<em>dict</em>) &#8211; A dictionary of data returned from
getting an Cloud Storage object.</li>
<li><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket to which this key belongs
(and by proxy, which connection to use).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A key based on the data provided.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.generate_signed_url">
<code class="descname">generate_signed_url</code><span class="sig-paren">(</span><em>expiration</em>, <em>method='GET'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.generate_signed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.generate_signed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a signed URL for this key.</p>
<p>If you have a key that you want to allow access to
for a set amount of time,
you can use this method to generate a URL
that is only valid within a certain time period.</p>
<p>This is particularly useful if you don&#8217;t want publicly accessible keys,
but don&#8217;t want to require users to explicitly log in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>expiration</strong> (<em>int, long, datetime.datetime, datetime.timedelta</em>) &#8211; When the signed URL should expire.</li>
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP verb that will be used when requesting the URL.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A signed URL you can use to access the resource
until expiration.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_acl">
<code class="descname">get_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.get_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.get_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ACL metadata as a <a class="reference internal" href="#gcloud.storage.acl.ObjectACL" title="gcloud.storage.acl.ObjectACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ObjectACL</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.ObjectACL" title="gcloud.storage.acl.ObjectACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ObjectACL</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An ACL object for the current key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_as_string">
<code class="descname">get_contents_as_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.get_contents_as_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_as_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the data stored on this Key as a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The data stored in this key.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_to_file">
<code class="descname">get_contents_to_file</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.get_contents_to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the contents of this key to a file-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle to which to write the key&#8217;s data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_to_filename">
<code class="descname">get_contents_to_filename</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.get_contents_to_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_to_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the contents of this key to a file by name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; A filename to be passed to <code class="docutils literal"><span class="pre">open</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><em>field=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all metadata or a specific field.</p>
<p>If you request a field that isn&#8217;t available,
and that field can be retrieved by refreshing data
from Cloud Storage,
this method will reload the data using
<a class="reference internal" href="#gcloud.storage.key.Key.reload_metadata" title="gcloud.storage.key.Key.reload_metadata"><code class="xref py py-func docutils literal"><span class="pre">Key.reload_metadata()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<em>string</em>) &#8211; (optional) A particular field to retrieve from metadata.</li>
<li><strong>default</strong> (<em>anything</em>) &#8211; The value to return if the field provided wasn&#8217;t found.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict or anything</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">All metadata or the value of the specific field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.has_metadata">
<code class="descname">has_metadata</code><span class="sig-paren">(</span><em>field=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.has_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.has_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if metadata is available locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>field</strong> (<em>string</em>) &#8211; (optional) the particular field to check for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Whether metadata is available locally.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.make_public">
<code class="descname">make_public</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.make_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.make_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Make this key public giving all users read access.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.patch_metadata">
<code class="descname">patch_metadata</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.patch_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.patch_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update particular fields of this key&#8217;s metadata.</p>
<p>This method will only update the fields provided
and will not touch the other fields.</p>
<p>It will also reload the metadata locally
based on the servers response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> (<em>dict</em>) &#8211; The dictionary of values to update.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.path">
<code class="descname">path</code><a class="headerlink" href="#gcloud.storage.key.Key.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter property for the URL path to this Key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The URL path to this Key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.public_url">
<code class="descname">public_url</code><a class="headerlink" href="#gcloud.storage.key.Key.public_url" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>string</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The public URL for this key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.reload_acl">
<code class="descname">reload_acl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.reload_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.reload_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the ACL data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.reload_metadata">
<code class="descname">reload_metadata</code><span class="sig-paren">(</span><em>full=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.reload_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.reload_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload metadata from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>full</strong> (<em>bool</em>) &#8211; If True, loads all data (include ACL data).</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The key you just reloaded data for.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>new_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames this key using copy and delete operations.</p>
<p>Effectively, copies key to the same bucket with a new name, then
deletes the key.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method will first duplicate the data
and then delete the old key.
This means that with very large objects
renaming could be a very (temporarily) costly
or a very slow operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_name</strong> (<em>string</em>) &#8211; The new name for this key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The newly-copied key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.save_acl">
<code class="descname">save_acl</code><span class="sig-paren">(</span><em>acl=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.save_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.save_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the ACL data for this key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></code></a>) &#8211; The ACL object to save.
If left blank, this will save the ACL
set locally on the key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_file">
<code class="descname">set_contents_from_file</code><span class="sig-paren">(</span><em>file_obj</em>, <em>rewind=False</em>, <em>size=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.set_contents_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contents of this key to the contents of a file handle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle open for reading.</li>
<li><strong>rewind</strong> (<em>bool</em>) &#8211; If True, seek to the beginning of the file handle before
writing the file to Cloud Storage.</li>
<li><strong>size</strong> (<em>int</em>) &#8211; The number of bytes to read from the file handle.
If not provided, we&#8217;ll try to guess the size using
<code class="xref py py-func docutils literal"><span class="pre">os.fstat()</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_filename">
<code class="descname">set_contents_from_filename</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.set_contents_from_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a path and set this key&#8217;s contents to the content of that file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; The path to the file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_string">
<code class="descname">set_contents_from_string</code><span class="sig-paren">(</span><em>data</em>, <em>content_type='text/plain'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.set_contents_from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the contents of this key to the provided string.</p>
<p>You can use this method to quickly set the value of a key:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">new_key</span><span class="p">(</span><span class="s">&#39;my_text_file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">set_contents_from_string</span><span class="p">(</span><span class="s">&#39;This is the contents of my file!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Under the hood this is using a string buffer
and calling <a class="reference internal" href="#gcloud.storage.key.Key.set_contents_from_file" title="gcloud.storage.key.Key.set_contents_from_file"><code class="xref py py-func docutils literal"><span class="pre">gcloud.storage.key.Key.set_contents_from_file()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>string</em>) &#8211; The data to store in this key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">Key</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The updated Key object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.key.KeyIterator">
<em class="property">class </em><code class="descclassname">gcloud.storage.key.</code><code class="descname">KeyIterator</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#KeyIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.KeyIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.iterator.Iterator" title="gcloud.storage.iterator.Iterator"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.iterator.Iterator</span></code></a></p>
<p>An iterator listing keys.</p>
<p>You shouldn&#8217;t have to use this directly,
but instead should use the helper methods
on <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a> objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket from which to list keys.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.key.KeyIterator.get_items_from_response">
<code class="descname">get_items_from_response</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/key.html#KeyIterator.get_items_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.KeyIterator.get_items_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method, yields <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">storage.key.Key</span></code></a> items from response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<em>dict</em>) &#8211; The JSON API response for a page of keys.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.acl">
<span id="access-control"></span><h2>Access Control<a class="headerlink" href="#module-gcloud.storage.acl" title="Permalink to this headline">¶</a></h2>
<p>This module makes it simple to interact
with the access control lists that Cloud Storage provides.</p>
<p><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a> has a getting method
that creates an ACL object under the hood,
and you can interact with that using
<a class="reference internal" href="#gcloud.storage.bucket.Bucket.get_acl" title="gcloud.storage.bucket.Bucket.get_acl"><code class="xref py py-func docutils literal"><span class="pre">gcloud.storage.bucket.Bucket.get_acl()</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_acl</span><span class="p">()</span>
</pre></div>
</div>
<p>Adding and removing permissions can be done with the following methods
(in increasing order of granularity):</p>
<ul class="simple">
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.all" title="gcloud.storage.acl.ACL.all"><code class="xref py py-func docutils literal"><span class="pre">ACL.all()</span></code></a>
corresponds to access for all users.</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.all_authenticated" title="gcloud.storage.acl.ACL.all_authenticated"><code class="xref py py-func docutils literal"><span class="pre">ACL.all_authenticated()</span></code></a> corresponds
to access for all users that are signed into a Google account.</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.domain" title="gcloud.storage.acl.ACL.domain"><code class="xref py py-func docutils literal"><span class="pre">ACL.domain()</span></code></a> corresponds to access on a
per Google Apps domain (ie, <code class="docutils literal"><span class="pre">example.com</span></code>).</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.group" title="gcloud.storage.acl.ACL.group"><code class="xref py py-func docutils literal"><span class="pre">ACL.group()</span></code></a> corresponds to access on a
per group basis (either by ID or e-mail address).</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.user" title="gcloud.storage.acl.ACL.user"><code class="xref py py-func docutils literal"><span class="pre">ACL.user()</span></code></a> corresponds to access on a
per user basis (either by ID or e-mail address).</li>
</ul>
<p>And you are able to <code class="docutils literal"><span class="pre">grant</span></code> and <code class="docutils literal"><span class="pre">revoke</span></code> the following roles:</p>
<ul class="simple">
<li><strong>Reading</strong>:
<code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_read()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_read()</span></code></li>
<li><strong>Writing</strong>:
<code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_write()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_write()</span></code></li>
<li><strong>Owning</strong>:
<code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_owner()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_owner()</span></code></li>
</ul>
<p>You can use any of these like any other factory method
(these happen to be <code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code> factories):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;me@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">all_authenticated</span><span class="p">()</span><span class="o">.</span><span class="n">grant_write</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also chain
these <code class="docutils literal"><span class="pre">grant_*</span></code> and <code class="docutils literal"><span class="pre">revoke_*</span></code> methods
together for brevity:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span><span class="o">.</span><span class="n">revoke_write</span><span class="p">()</span>
</pre></div>
</div>
<p>After that,
you can save any changes you make
with the <a class="reference internal" href="#gcloud.storage.acl.ACL.save" title="gcloud.storage.acl.ACL.save"><code class="xref py py-func docutils literal"><span class="pre">gcloud.storage.acl.ACL.save()</span></code></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>You can alternatively save any existing
<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></code></a> object
(whether it was created by a factory method or not)
with the <a class="reference internal" href="#gcloud.storage.bucket.Bucket.save_acl" title="gcloud.storage.bucket.Bucket.save_acl"><code class="xref py py-func docutils literal"><span class="pre">gcloud.storage.bucket.Bucket.save_acl()</span></code></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">save_acl</span><span class="p">(</span><span class="n">acl</span><span class="p">)</span>
</pre></div>
</div>
<p>To get the list
of <code class="docutils literal"><span class="pre">entity</span></code> and <code class="docutils literal"><span class="pre">role</span></code>
for each unique pair,
the <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">ACL</span></code></a> class is iterable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">list</span><span class="p">(</span><span class="n">ACL</span><span class="p">)</span>
<span class="go">[{&#39;role&#39;: &#39;OWNER&#39;, &#39;entity&#39;: &#39;allUsers&#39;}, ...]</span>
</pre></div>
</div>
<p>This list of tuples can be used as the <code class="docutils literal"><span class="pre">entity</span></code> and <code class="docutils literal"><span class="pre">role</span></code>
fields when sending metadata for ACLs to the API.</p>
<dl class="class">
<dt id="gcloud.storage.acl.ACL">
<em class="property">class </em><code class="descclassname">gcloud.storage.acl.</code><code class="descname">ACL</code><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Container class representing a list of access controls.</p>
<dl class="method">
<dt id="gcloud.storage.acl.ACL.add_entity">
<code class="descname">add_entity</code><span class="sig-paren">(</span><em>entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.add_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.add_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an entity to the ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity</strong> (<code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code>) &#8211; The entity to add to this ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for an Entity representing all users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An entity representing all users.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.all_authenticated">
<code class="descname">all_authenticated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.all_authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.all_authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for an Entity representing all authenticated users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An entity representing all authenticated users.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.domain">
<code class="descname">domain</code><span class="sig-paren">(</span><em>domain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a domain Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<em>string</em>) &#8211; The domain for this entity.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An entity corresponding to this domain.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.entity">
<code class="descname">entity</code><span class="sig-paren">(</span><em>entity_type</em>, <em>identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for creating an Entity.</p>
<p>If an entity with the same type and identifier already exists,
this will return a reference to that entity.
If not, it will create a new one and add it to the list
of known entities for this ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entity_type</strong> (<em>string</em>) &#8211; The type of entity to create
(ie, <code class="docutils literal"><span class="pre">user</span></code>, <code class="docutils literal"><span class="pre">group</span></code>, etc)</li>
<li><strong>identifier</strong> (<em>string</em>) &#8211; The ID of the entity (if applicable).
This can be either an ID or an e-mail address.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A new Entity or a reference to an existing identical entity.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.entity_from_dict">
<code class="descname">entity_from_dict</code><span class="sig-paren">(</span><em>entity_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.entity_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.entity_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an _ACLEntity object from a dictionary of data.</p>
<p>An entity is a mutable object
that represents a list of roles
belonging to either a user or group
or the special types
for all users
and all authenticated users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity_dict</strong> (<em>dict</em>) &#8211; Dictionary full of data from an ACL lookup.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity constructed from the dictionary.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.get_entities">
<code class="descname">get_entities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.get_entities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.get_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all Entity objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code> objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of all Entity objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.get_entity">
<code class="descname">get_entity</code><span class="sig-paren">(</span><em>entity</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.get_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.get_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an entity object from the ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entity</strong> (<code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code> or string) &#8211; The entity to get lookup in the ACL.</li>
<li><strong>default</strong> (<em>anything</em>) &#8211; This value will be returned if the entity
doesn&#8217;t exist.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The corresponding entity or the value provided
to <code class="docutils literal"><span class="pre">default</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.group">
<code class="descname">group</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.group" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a group Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>string</em>) &#8211; An id or e-mail for this particular group.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity corresponding to this group.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.has_entity">
<code class="descname">has_entity</code><span class="sig-paren">(</span><em>entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.has_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.has_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not this ACL has any entries for an entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity</strong> (<code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code>) &#8211; The entity to check for existence in this ACL.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True of the entity exists in the ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>A method to be overridden by subclasses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">NotImplementedError</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.user">
<code class="descname">user</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.user" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a user Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>string</em>) &#8211; An id or e-mail for this particular user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity corresponding to this user.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.BucketACL">
<em class="property">class </em><code class="descclassname">gcloud.storage.acl.</code><code class="descname">BucketACL</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></code></a></p>
<p>An ACL specifically for a bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket to which this ACL relates.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.acl.BucketACL.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this ACL for the current bucket.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.DefaultObjectACL">
<em class="property">class </em><code class="descclassname">gcloud.storage.acl.</code><code class="descname">DefaultObjectACL</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#DefaultObjectACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.DefaultObjectACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></code></a></p>
<p>A class representing the default object ACL for a bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></code></a>) &#8211; The bucket to which this ACL relates.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.acl.DefaultObjectACL.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#DefaultObjectACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.DefaultObjectACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this ACL as the default object ACL for the current bucket.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.ObjectACL">
<em class="property">class </em><code class="descclassname">gcloud.storage.acl.</code><code class="descname">ObjectACL</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></code></a></p>
<p>An ACL specifically for a key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; The key that this ACL corresponds to.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.acl.ObjectACL.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this ACL for the current key.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.iterator">
<span id="iterators"></span><h2>Iterators<a class="headerlink" href="#module-gcloud.storage.iterator" title="Permalink to this headline">¶</a></h2>
<p>Iterators for paging through API responses.</p>
<p>These iterators
simplify the process
of paging through API responses
where the response
is a list of results
with a <code class="docutils literal"><span class="pre">nextPageToken</span></code>.</p>
<p>To make an iterator work,
just override the <code class="docutils literal"><span class="pre">get_items_from_response</span></code> method
so that given a response
(containing a page of results)
it parses those results
into an iterable
of the actual objects you want:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyIterator</span><span class="p">(</span><span class="n">Iterator</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">get_items_from_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;items&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
      <span class="k">yield</span> <span class="n">MyItemClass</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">other_arg</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You then can use this
to get <strong>all</strong> the results
from a resource:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">MyIterator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">iterator</span><span class="p">)</span>  <span class="c"># Convert to a list (consumes all values).</span>
</pre></div>
</div>
<p>Or you can walk your way through items
and call off the search early
if you find what you&#8217;re looking for
(resulting in possibly fewer requests):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">MyIterator</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">item</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">break</span>
</pre></div>
</div>
<dl class="class">
<dt id="gcloud.storage.iterator.Iterator">
<em class="property">class </em><code class="descclassname">gcloud.storage.iterator.</code><code class="descname">Iterator</code><span class="sig-paren">(</span><em>connection</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A generic class for iterating through Cloud Storage list responses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></code></a>) &#8211; The connection to use to make requests.</li>
<li><strong>path</strong> (<em>string</em>) &#8211; The path to query for the list of items.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_items_from_response">
<code class="descname">get_items_from_response</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_items_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_items_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method called while iterating. This should be overriden.</p>
<p>This method should be overridden by a subclass.
It should accept the API response
of a request for the next page of items,
and return a list (or other iterable)
of items.</p>
<p>Typically this method will construct
a Bucket or a Key
from the page of results in the response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<em>dict</em>) &#8211; The response of asking for the next page of items.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Items that the iterator should yield.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_next_page_response">
<code class="descname">get_next_page_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_next_page_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_next_page_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests the next page from the path provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed JSON response of the next page&#8217;s contents.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_query_params">
<code class="descname">get_query_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_query_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_query_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for query parameters for the next request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of query parameters or None if there are none.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.has_next_page">
<code class="descname">has_next_page</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.has_next_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.has_next_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not this iterator has more pages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Whether the iterator has more pages or not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the iterator to the beginning.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.iterator.KeyDataIterator">
<em class="property">class </em><code class="descclassname">gcloud.storage.iterator.</code><code class="descname">KeyDataIterator</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>An iterator listing data stored in a key.</p>
<p>You shouldn&#8217;t have to use this directly,
but instead should use the helper methods
on <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a> objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></code></a>) &#8211; The key from which to list data..</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.iterator.KeyDataIterator.get_headers">
<code class="descname">get_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator.get_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator.get_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets range header(s) for next chunk of data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of query parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.KeyDataIterator.get_next_chunk">
<code class="descname">get_next_chunk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator.get_next_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator.get_next_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the next chunk of data.</p>
<p>Uses CHUNK_SIZE to determine how much data to get.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The chunk of data read from the key.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">RuntimeError</span></code> if no more data or
<a class="reference internal" href="#gcloud.storage.exceptions.StorageError" title="gcloud.storage.exceptions.StorageError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.StorageError</span></code></a> in the
case of an unexpected response status code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.KeyDataIterator.get_url">
<code class="descname">get_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator.get_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator.get_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets URL to read next chunk of data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A URL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.KeyDataIterator.has_more_data">
<code class="descname">has_more_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator.has_more_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator.has_more_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not this iterator has more data to read.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Whether the iterator has more data or not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.KeyDataIterator.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/iterator.html#KeyDataIterator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.KeyDataIterator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the iterator to the beginning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.exceptions">
<span id="exceptions"></span><h2>Exceptions<a class="headerlink" href="#module-gcloud.storage.exceptions" title="Permalink to this headline">¶</a></h2>
<p>Custom exceptions for gcloud.storage package.</p>
<dl class="exception">
<dt id="gcloud.storage.exceptions.ConnectionError">
<em class="property">exception </em><code class="descclassname">gcloud.storage.exceptions.</code><code class="descname">ConnectionError</code><span class="sig-paren">(</span><em>response</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#ConnectionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.ConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.exceptions.StorageError" title="gcloud.storage.exceptions.StorageError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.StorageError</span></code></a></p>
<p>Exception corresponding to a bad HTTP/RPC connection.</p>
</dd></dl>

<dl class="exception">
<dt id="gcloud.storage.exceptions.NotFoundError">
<em class="property">exception </em><code class="descclassname">gcloud.storage.exceptions.</code><code class="descname">NotFoundError</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#NotFoundError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.NotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.exceptions.StorageError" title="gcloud.storage.exceptions.StorageError"><code class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.StorageError</span></code></a></p>
<p>Exception corresponding to a 404 not found bad connection.</p>
</dd></dl>

<dl class="exception">
<dt id="gcloud.storage.exceptions.StorageError">
<em class="property">exception </em><code class="descclassname">gcloud.storage.exceptions.</code><code class="descname">StorageError</code><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#StorageError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.StorageError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Base error class for gcloud errors.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    </div>
  </div>
    <footer id="gc-footer" class="footer" role="contentinfo">
    <div id="gc-copyright">
        &copy; Copyright 2014, JJ Geewax.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
      </div>
    </footer>
  </body>
</html>